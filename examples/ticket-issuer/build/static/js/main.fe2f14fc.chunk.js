(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),r=n(4),i=n(14),s=n(7),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,e),"string"==typeof t)throw new TypeError("Unimplemented: Not accepting string yet.");if(t instanceof ArrayBuffer){var n=fromBER(t);this.fromSchema(n.result)}else this.algorithmId=Object(s.d)(t,"algorithmId"),"algorithmParams"in t&&(this.algorithmParams=Object(s.d)(t,"algorithmParams",e.defaultValues("algorithmParams")))}return Object(r.a)(e,[{key:"fromSchema",value:function(t){Object(s.c)(t,["algorithm","params"]);var n=Object(i.h)(t,t,e.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=n.result.algorithm.valueBlock.toString(),"params"in n.result&&(this.algorithmParams=n.result.params)}},{key:"toSchema",value:function(){var e=[];return e.push(new i.d({value:this.algorithmId})),"algorithmParams"in this&&this.algorithmParams instanceof asn1js.Any===!1&&e.push(this.algorithmParams),new i.f({value:e})}},{key:"toJSON",value:function(){var e={algorithmId:this.algorithmId};return"algorithmParams"in this&&this.algorithmParams instanceof asn1js.Any===!1&&(e.algorithmParams=this.algorithmParams.toJSON()),e}},{key:"isEqual",value:function(t){return t instanceof e!==!1&&(this.algorithmId===t.algorithmId&&("algorithmParams"in this?"algorithmParams"in t&&JSON.stringify(this.algorithmParams)===JSON.stringify(t.algorithmParams):!("algorithmParams"in t)))}}],[{key:"defaultValues",value:function(e){switch(e){case"algorithmParams":return new i.a;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"algorithmId":return""===t;case"algorithmParams":return t instanceof asn1js.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.d)(e,"names",{});return new i.f({name:t.blockName||"",optional:t.optional||!1,value:[new i.d({name:t.algorithmIdentifier||"algorithm"}),new i.a({name:t.algorithmParams||"parameters",optional:!0})]})}}]),e}()},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),r=n(4),i=n(14),s=n(7),o=n(35),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,e),"string"==typeof t)throw new TypeError("Not accepting string. For base64, convert to ArrayBuffer.");if(t instanceof ArrayBuffer){var n=Object(i.i)(t);this.fromSchema(n.result)}else this.signatureAlgorithm=Object(s.d)(t,"signatureAlgorithm"),this.publicKey=Object(s.d)(t,"publicKey")}return Object(r.a)(e,[{key:"fromSchema",value:function(t){if(Object(s.c)(t,["signatureAlgorithm","publicKey"]),!1===Object(i.h)(t,t,e.schema({names:{signatureAlgorithm:"signatureAlgorithm",publicKey:"publicKey"}})).verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier")}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.d)(e,"names",{});return new i.f({name:t.blockName||"",optional:!0,value:[o.a.schema(t.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new i.b({name:"publicKey"})]})}}]),e}()},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(21),s=n(3),o=n(4),c=n(46),u=n(25),l=function(e){var t={};return"devcon-ticket"===e?t={attestationOrigin:"https://stage.attestation.id",tokenOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenIdName:"id",tokenParser:c.a,localStorageItemName:"dcTokens",localStorageEthKeyItemName:"dcEthKeys"}:console.log("Negotiator: missing token script for this token"),t},h=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{userPermissionRequired:!1};Object(s.a)(this,t),a||console.log("Negotiator: tokenId is a required parameter");var i=l(a);if(this.userPermissionRequired=r.userPermissionRequired,this.userPermissionStatus=!r.userPermissionRequired||void 0,this.queuedCommand=!1,this.filter=n,this.tokensOrigin=i.tokenOrigin,this.debug=0,this.hideTokensIframe=1,this.tokenOrigin=i.tokenOrigin,this.attestationOrigin=i.attestationOrigin,this.tokenUrlName=i.tokenUrlName,this.tokenSecretName=i.tokenSecretName,this.tokenIdName=i.tokenIdName,this.unsignedTokenDataName=i.unsignedTokenDataName,this.tokenParser=i.tokenParser,this.localStorageItemName=i.localStorageItemName,this.localStorageEthKeyItemName=i.localStorageEthKeyItemName,this.addTokenIframe=null,this.maxUNlength=6,this.UNttl=3600,this.UNsecret="0x1234567890abcdef",r.hasOwnProperty("debug")&&(this.debug=r.debug),r.hasOwnProperty("attestationOrigin")&&(this.attestationOrigin=r.attestationOrigin),r.hasOwnProperty("tokenOrigin")&&(this.tokenOrigin=r.tokenOrigin),this.isTokenOriginWebsite=!1,this.attestationOrigin){var o=new URL(window.location.href),c=new URL(this.tokensOrigin);o.origin===c&&(this.isTokenOriginWebsite=!0,this.readMagicUrl()),this.attachPostMessageListener((function(t){if(t.origin===c.origin&&t.data.iframeCommand&&"closeMe"==t.data.iframeCommand&&e.addTokenIframe){e.addTokenIframe.remove();var n=new Event("newTokenAdded");document.body.dispatchEvent(n)}}))}if(window!==window.parent){this.debug&&console.log("negotiator: its iframe, lets return tokens to the parent"),this.attachPostMessageListener(this.listenForParentMessages.bind(this));var u=new URL(document.referrer);window.parent.postMessage({iframeCommand:"iframeReady",iframeData:""},u.origin)}}return Object(o.a)(t,[{key:"connectMetamaskAndGetAddress",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw new Error("Please install metamask before.");case 2:return e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:if((t=e.sent)&&t.length){e.next=7;break}throw new Error("Active Wallet required");case 7:return e.abrupt("return",t[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"signMessageWithBrowserWallet",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectMetamaskAndGetAddress();case 2:return n=new u.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=6,a.signMessage(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTokenThroughIframe",value:function(e){console.log("createTokenIframe fired for : "+e);var t=document.createElement("iframe");this.addTokenIframe=t,t.src=e,t.style.width="1px",t.style.height="1px",t.style.opacity=0,document.body.appendChild(t)}},{key:"setUserPermission",value:function(e){this.userPermissionStatus=e}},{key:"getUserPermission",value:function(){return this.userPermissionStatus}},{key:"listenForParentMessages",value:function(e){var t=new URL(document.referrer);if(e.origin===t.origin&&"undefined"!==typeof e.data.parentCommand&&"undefined"!==typeof e.data.parentData){var n=e.data.parentCommand,a=e.data.parentData;switch(console.log("iframe: command, data = ",n,a),n){case"signToken":if("undefined"===typeof window.Authenticator)return void console.log("Authenticator not defined.");var r=this.getRawToken(a),i=r.token,s=r.secret;this.authenticator=new Authenticator(this);var o={ticketBlob:i,ticketSecret:s,attestationOrigin:this.attestationOrigin};r&&r.id&&(o.email=r.id),r&&r.magic_link&&(o.magicLink=r.magic_link),this.authenticator.getAuthenticationBlob(o,(function(e){console.log("sign result:",e),window.parent.postMessage({iframeCommand:"useTokenData",iframeData:{useToken:e,message:"",success:!!e}},t.origin)}));break;case"tokensList":this.returnTokensToParent()}}}},{key:"commandDisplayIframe",value:function(){var e=new URL(document.referrer);window.parent.postMessage({iframeCommand:"iframeWrap",iframeData:"show"},e.origin)}},{key:"commandHideIframe",value:function(){var e=new URL(document.referrer);window.parent.postMessage({iframeCommand:"iframeWrap",iframeData:"hide"},e.origin)}},{key:"returnTokensToParent",value:function(){var e=this.readTokens();if(e.success&&!e.noTokens){var t=this.decodeTokens(e.tokens),n=this.filterTokens(t);e.tokens=n}var a=new URL(document.referrer);window.parent.postMessage({iframeCommand:"tokensData",iframeData:e},a.origin)}},{key:"readMagicUrl",value:function(){var e=new URLSearchParams(window.location.search),t=e.get(this.tokenUrlName),n=e.get(this.tokenSecretName),a=e.get(this.tokenIdName);if(t&&n){var r=this.readTokens(),i=[],s=!0;if(r.noTokens||(i=r.tokens).map((function(e){e.token===t&&(s=!1)})),s&&i.push({token:t,secret:n,id:a,magic_link:window.location.href}),localStorage.setItem(this.localStorageItemName,JSON.stringify(i)),window!==window.parent){this.debug&&console.log("negotiator: its iframe, lets close it");var o=new URL(document.referrer);window.parent.postMessage({iframeCommand:"closeMe"},o.origin)}}}},{key:"filterTokens",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0==Object.keys(n).length&&(n=this.filter);var a=[];if(e.length&&"object"===typeof n&&Object.keys(n).length){var r=Object.keys(n);return e.forEach((function(e){var i=1;t.debug&&console.log("test token:",e),r.forEach((function(t){e[t].toString()!=n[t].toString()&&(i=0)})),i&&(a.push(e),t.debug&&console.log("token fits:",e))})),a}return e}},{key:"compareObjects",value:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].toString()!==t[n].toString())return!1;for(var n in t)if(t.hasOwnProperty(n)&&e[n].toString()!==t[n].toString())return!1;return!0}},{key:"readTokens",value:function(){var e=localStorage.getItem(this.localStorageItemName),t=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(0!==(t=JSON.parse(e)).length&&t.forEach((function(e){e.token&&e.secret&&n.tokens.push(e)})),n.tokens.length&&(n.noTokens=!1))}catch(a){console.log("Cant parse tokens in LocalStorage"),"function"===typeof callBack&&(n.success=!1)}return n}},{key:"getRawToken",value:function(e){var t=this,n=this.readTokens();if(n.success&&!n.noTokens){var a=n.tokens,r=!1;return a.length&&a.forEach((function(n){if(n.token){var a=new t.tokenParser(t.base64ToUint8array(n.token).buffer);if(a&&a[t.unsignedTokenDataName]){var i=a[t.unsignedTokenDataName];t.compareObjects(i,e)&&(r=n)}}else console.log("empty token data received")})),r}}},{key:"listenForIframeMessages",value:function(e){var t=new URL(this.tokensOrigin);if(e.origin===t.origin&&"undefined"!==typeof e.data.iframeCommand&&"undefined"!==typeof e.data.iframeData){var n=e.data.iframeCommand,a=e.data.iframeData;switch(console.log("parent: command, data = ",n,a),n){case"iframeWrap":"show"==a?this.tokenIframeWrap.style.display="block":"hide"==a&&(this.tokenIframeWrap.style.display="none");break;case"tokensData":this.detachPostMessageListener(this.listenForIframeMessages),this.tokenIframeWrap.remove(),a.success&&!a.noTokens&&(a.tokens=this.filterTokens(a.tokens)),this.negotiateCallback(a);break;case"useTokenData":this.tokenIframeWrap.remove(),this.signCallback&&this.signCallback(a),this.signCallback=!1;break;case"iframeReady":e&&e.source&&(e.source.postMessage(this.queuedCommand,e.origin),this.queuedCommand="")}}}},{key:"authenticate",value:function(e){var t=this,n=e.unsignedToken,a=e.unEndPoint;return new Promise(function(){var e=Object(i.a)(r.a.mark((function e(i,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._authenticate(n,a,(function(e,n){if(!e||!t.useEthKey)return s(n);i({proof:e,useEthKey:t.useEthKey,status:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"_authenticate",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("authenticate request. need to implement UN request/sign"),e.prev=1,e.next=4,this.getChallengeSigned();case 4:i=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),a(null,e.t0),e.abrupt("return");case 11:console.log("useEthKey",i),this.useEthKey=i,this.signCallback=a,this.queuedCommand={parentCommand:"signToken",parentData:t},this.createIframe();case 16:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getInt64Bytes",value:function(e){var t=[],n=8;do{t[--n]=255&e,e>>=8}while(n);return t}},{key:"getUnpredictableNumber",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now()+1e3*this.UNttl,a=Math.floor(Math.random()*Math.pow(10,this.maxUNlength)),e.abrupt("return",{UN:a.toString()+this.createHmac(a,n),Expiry:n});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createHmac",value:function(e,t){var n=this.getInt64Bytes(e).concat(this.getInt64Bytes(t));return u.a.utils.computeHmac("sha256",this.UNsecret,n)}},{key:"ethKeyIsValid",value:function(e){var t=parseInt(e.UN.substr(0,e.UN.length-66));return this.createHmac(t,e.expiry)===e.UN.substr(e.UN.length-66)&&!(e.expiry<Date.now())}},{key:"getChallengeSigned",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(this.localStorageEthKeyItemName),a=n&&n.length?JSON.parse(n):{},e.next=4,this.connectMetamaskAndGetAddress();case 4:if(i=(i=e.sent).toLowerCase(),a&&a[i]&&!this.ethKeyIsValid(a[i])&&(console.log("remove invalid useEthKey"),delete a[i]),!a||!a[i]){e.next=11;break}s=a[i],e.next=15;break;case 11:return e.next=13,this.signNewChallenge(t);case 13:(s=e.sent)&&(a[s.address.toLowerCase()]=s,localStorage.setItem(this.localStorageEthKeyItemName,JSON.stringify(a)));case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signNewChallenge",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,h,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUnpredictableNumber(t);case 2:return n=e.sent,a=n.UN,i=n.Expiry,s=window.location.hostname,o="This is proof that I am visiting ".concat(s,", which has presented the following challenge ").concat(a.toString()," to sign."),e.next=9,this.signMessageWithBrowserWallet(o);case 9:return c=e.sent,l=u.a.utils.hashMessage(o),h=u.a.utils.arrayify(l),m=u.a.utils.recoverAddress(h,c),e.abrupt("return",{address:m,expiry:i,challenge:o,signature:c,UN:a});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"negotiate",value:function(){var e=this;return new Promise((function(t,n){e._negotiate((function(e){if(!e)return n(!1);t(e)}))}))}},{key:"getTokenInstances",value:function(){var e=this;return new Promise((function(t,n){e._negotiate((function(e){if(!e)return n(!1);t(e)}))}))}},{key:"_negotiate",value:function(e){if(!1===this.userPermissionStatus)return!1;if(this.negotiateCallback=e,this.attestationOrigin)if(console.log("attestationOrigin",this.attestationOrigin),window.location.href===this.tokensOrigin){var t=this.readTokens();if(t.success&&!t.noTokens){var n=this.decodeTokens(t.tokens),a=this.filterTokens(n);t.tokens=a,this.negotiateCallback(t)}}else this.queuedCommand={parentCommand:"tokensList",parentData:""},this.createIframe();else console.log("no attestationOrigin...")}},{key:"createIframe",value:function(){console.log("createIframe fired"),this.attachPostMessageListener(this.listenForIframeMessages.bind(this));var e=document.createElement("iframe");this.iframe=e,e.src=this.tokensOrigin,e.style.width="800px",e.style.height="700px",e.style.maxWidth="100%",e.style.background="#fff";var t=document.createElement("div");this.tokenIframeWrap=t,t.setAttribute("style","width:100%; min-height: 100vh; position: fixed; align-items: center; justify-content: center; display: none; top: 0; left: 0; background: #fffa"),t.appendChild(e),document.body.appendChild(t)}},{key:"base64ToUint8array",value:function(t){return t=t.split("-").join("+").split("_").join("/").split(".").join("="),"undefined"!==typeof e?Uint8Array.from(e.from(t,"base64")):Uint8Array.from(atob(t),(function(e){return e.charCodeAt(0)}))}},{key:"decodeTokens",value:function(e){var t=this;this.debug&&(console.log("decodeTokens fired"),console.log(e));var n=[];return e.length&&e.forEach((function(e){if(e.token){var a=new t.tokenParser(t.base64ToUint8array(e.token).buffer);a&&a[t.unsignedTokenDataName]&&n.push(a[t.unsignedTokenDataName])}else console.log("empty token data received")})),n}},{key:"attachPostMessageListener",value:function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}},{key:"detachPostMessageListener",value:function(e){window.addEventListener?window.removeEventListener("message",e,!1):window.detachEvent("onmessage",e)}}]),t}()}).call(this,n(39).Buffer)},46:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(3),r=n(4),i=n(14),s=n(7),o=(n(35),n(36)),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,e),"string"==typeof t)throw new TypeError("Unimplemented: Not accepting string yet.");if(t instanceof ArrayBuffer){var n=Object(i.i)(t);this.fromSchema(n.result)}else this.devconId=Object(s.d)(t,"devconId"),this.ticketId=Object(s.d)(t,"ticketId"),this.ticketClass=Object(s.d)(t,"ticketClass")}return Object(r.a)(e,[{key:"fromSchema",value:function(t){Object(s.c)(t,["devconId","ticketId","ticketClass"]);var n=Object(i.h)(t,t,e.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for DevconTicket");if("devconId"in n.result&&(this.devconId=n.result.devconId.valueBlock.value),"ticketId"in n.result){var a=n.result.ticketId.valueBlock._valueHex;this.ticketId=BigInt("0x"+Object(s.a)(a))}if("ticketClass"in n.result){var r=n.result.ticketClass.valueBlock._valueHex;this.ticketClass=BigInt("0x"+Object(s.a)(r))}}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.d)(e,"names",{});return new i.f({name:t.blockName||"ticket",value:[new i.g({name:t.devconId||"devconId"}),new i.c({name:t.ticketId||"ticketId"}),new i.c({name:t.ticketClass||"ticketClass"})]})}}]),e}(),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,t),"string"==typeof n){var r=n.startsWith("https://")?new URL(n).searchParams.get("ticket"):n,u=r.split("_").join("/").split("-").join("+").split(".").join("=");n="undefined"!==typeof e?Uint8Array.from(e.from(u,"base64")).buffer:Uint8Array.from(atob(u),(function(e){return e.charCodeAt(0)})).buffer}if(n instanceof ArrayBuffer){var l=Object(i.i)(n);this.fromSchema(l.result)}else this.ticket=new c(n.ticket),this.commitment=Object(s.d)(n,"commitment"),this.publicKeyInfo=new o.a(n.publicKeyInfo),this.signatureValue=Object(s.d)(n,"signatureValue")}return Object(r.a)(t,[{key:"fromSchema",value:function(e){Object(s.c)(e,["ticket","commitment","publicKeyInfo","signatureValue"]);var n=Object(i.h)(e,e,t.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for SignedDevconTicket");this.ticket=new c(n.result.ticket.valueBeforeDecode),"commitment"in n.result&&(this.commitment=n.result.commitment.valueBlock.valueHex),this.publicKeyInfo=new o.a({schema:n.result.publicKeyInfo});var a=n.result.signatureValue;this.signatureValue=a.valueBlock.valueHex}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.d)(e,"names",{});return new i.f({name:t.blockName||"SignedDevconTicket",value:[c.schema(e),new i.e({name:"commitment"}),new i.b({name:"signatureValue"})]})}}]),t}()}).call(this,n(39).Buffer)},59:function(e,t,n){},65:function(e,t){},75:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),i=n(44),s=n.n(i),o=(n(59),n(2)),c=n.n(o),u=n(21),l=n(51),h=n(45),m=n(95),d=(n(75),n(12));var f=function(e){var t=e.tokenInstance,n=t.ticketClass,a=t.ticketId,r=t.devconId;return Object(d.jsxs)("div",{className:"ticketContainer",children:[Object(d.jsxs)("div",{className:"ticketDetails",children:[Object(d.jsx)(m.a,{className:"ticketClass",variant:"h5",component:"h2",children:n.toString()}),Object(d.jsx)(m.a,{className:"ticketId",variant:"body2",color:"textSecondary",component:"p",children:a&&a.toString()}),Object(d.jsxs)(m.a,{className:"devconId",variant:"body2",color:"textSecondary",component:"p",children:["Devcon ID: ",r&&r.toString()]})]}),Object(d.jsx)("img",{className:"ticketImg",src:"ticket_example_image.svg"})]})},g=(n(81),[{ticket:"MIGWMA0MATYCBWE3ap3-AgEABEEEKJZVxMEXbkSZZBWnNUTX_5ieu8GUqf0bx_a0tBPF6QYskABaMJBYhDOXsmQt3csk_TfMZ2wdmfRkK7ePCOI2kgNCAOOZKRpcE6tLBuPbfE_SmwPk2wNjbj5vpa6kkD7eqQXvBOCa0WNo8dEHKvipeUGZZEWWjJKxooB44dEYdQO70Vgc",secret:"45845870684",id:"mah@mah.com"},{ticket:"MIGXMA4MAjExAgVhN2qd_gIBAARBBCiWVcTBF25EmWQVpzVE1_-YnrvBlKn9G8f2tLQTxekGLJAAWjCQWIQzl7JkLd3LJP03zGdsHZn0ZCu3jwjiNpIDQgBbJBY1Ctlp_czUwB85yF1e5kpZ-lQ_-UZ7jaCYSFoEx028Jit1HIDLCJezKdsNn9c9IO7-HC-_r2ZLaYQ9GGrbHA==",secret:"45845870684",id:"mah@mah.com"},{ticket:"MIGTMAoMATYCAgDeAgEABEEEKJZVxMEXbkSZZBWnNUTX_5ieu8GUqf0bx_a0tBPF6QYskABaMJBYhDOXsmQt3csk_TfMZ2wdmfRkK7ePCOI2kgNCAEZYXbNmWXDsAqIc5uf7SirR-dLCMLdEVN5teFrV93VbcKE_DED8c6jtFQ5LH2SRXwPEtXZqWfEh1c2OHTEYqfwb",secret:"45845870684",id:"mah@mah.com"},{ticket:"MIGSMAkMATECAQECAQAEQQQollXEwRduRJlkFac1RNf_mJ67wZSp_RvH9rS0E8XpBiyQAFowkFiEM5eyZC3dyyT9N8xnbB2Z9GQrt48I4jaSA0IAOf4d0N9shWfPIgRXZPdBRhlRyIARDT0tJwNWYwy2ILVKnIy-qPzFsgdI6sZHm1OY6UsJKuDlp0A7EMC8vS5YhRs=",secret:"45845870684",id:"mah@mah.com"}]);var k=function(){document.hasStorageAccess&&document.hasStorageAccess().then((function(e){console.log("user access: ",e),e||document.requestStorageAccess().then((function(e){console.log("user access from request: ",e)}))}));var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=new h.a({},"devcon-ticket",{});return Object(a.useEffect)(Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.negotiate();case 2:t=e.sent,setTimeout((function(){t.success&&r(t.tokens)}),5e3);case 4:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("main",{children:[Object(d.jsx)("a",{href:"/",children:Object(d.jsx)("img",{className:"logo",src:"./devcon.svg"})}),Object(d.jsx)("div",{className:"flexCenter",children:Object(d.jsx)("p",{children:"[DEMO Ticket Issuer Website]"})}),Object(d.jsx)("div",{className:"flexCenter",children:Object(d.jsx)("img",{className:"devcon_bogota",src:"./devcon_bogota.svg"})}),Object(d.jsx)("div",{className:"flexCenter",children:Object(d.jsx)("p",{children:"A Devcon ticket provides access to the event and special offers between the dates X-XX for hotel bookings, travel, restaurants and more."})}),Object(d.jsx)("div",{className:"flexCenter",children:Object(d.jsx)("p",{children:"Your tickets:"})}),Object(d.jsx)("div",{className:"flexCenter",children:Object(d.jsxs)("div",{className:"tokensWrapper",children:[n&&n.length>0&&n.map((function(e,t){return Object(d.jsx)(f,{tokenInstance:e},t)})),!n.length&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"- no ticket found -"}),Object(d.jsx)("p",{children:"Generate ticket:"}),Object(d.jsx)("div",{className:"ticketWrapper",children:g.map((function(e,t){return Object(d.jsx)("button",{className:"makeTicket",onClick:function(t){return function(e){var t=e.event,n=e.ticket,a=e.secret,s=e.id;t.preventDefault(),i.addTokenThroughIframe({ticket:n,secret:a,id:s}),i.getTokenInstances((function(e){e.success&&r(e.tokens)}))}({event:t,ticket:e.ticket,secret:e.secret,id:e.id})},children:"Create Ticket"},t)}))})]})]})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),v()}},[[82,1,2]]]);
//# sourceMappingURL=main.fe2f14fc.chunk.js.map