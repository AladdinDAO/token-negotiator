(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var n=a(9),r=a(10),i=a(3),c=a(4),s=a(21),o=a(20),l=a.n(o),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(n.a)(this,e),"string"==typeof t)throw new TypeError("Unimplemented: Not accepting string yet.");if(t instanceof ArrayBuffer){var a=Object(i.fromBER)(t);this.fromSchema(a.result)}else this.devconId=Object(c.getParametersValue)(t,"devconId"),this.ticketId=Object(c.getParametersValue)(t,"ticketId"),this.ticketClass=Object(c.getParametersValue)(t,"ticketClass")}return Object(r.a)(e,[{key:"fromSchema",value:function(t){Object(c.clearProps)(t,["devconId","ticketId","ticketClass"]);var a=Object(i.compareSchema)(t,t,e.schema());if(!1===a.verified)throw new Error("Object's schema was not verified against input data for DevconTicket");if("devconId"in a.result){var n=a.result.devconId.valueBlock._valueHex;this.devconId=new l.a("0x"+Object(c.bufferToHexCodes)(n)).value}if("ticketId"in a.result){var r=a.result.ticketId.valueBlock._valueHex;this.ticketId=new l.a("0x"+Object(c.bufferToHexCodes)(r)).value}if("ticketClass"in a.result){var s=a.result.ticketClass.valueBlock._valueHex;this.ticketClass=new l.a("0x"+Object(c.bufferToHexCodes)(s)).value}}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.getParametersValue)(e,"names",{});return new i.Sequence({name:t.blockName||"ticket",value:[new i.Integer({name:t.devconId||"devconId"}),new i.Integer({name:t.ticketId||"ticketId"}),new i.Integer({name:t.ticketClass||"ticketClass"})]})}}]),e}(),m=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(n.a)(this,t),"string"==typeof a){var r=a.startsWith("https://")?new URL(a).searchParams.get("ticket"):a,o=r.split("_").join("+").split("-").join("/").split(".").join("=");a="undefined"!==typeof e?Uint8Array.from(e.from(o,"base64")).buffer:Uint8Array.from(atob(o),(function(e){return e.charCodeAt(0)})).buffer}if(a instanceof ArrayBuffer){var l=Object(i.fromBER)(a);this.fromSchema(l.result)}else this.ticket=new u(a.ticket),this.commitment=Object(c.getParametersValue)(a,"commitment"),this.publicKeyInfo=new s.a(a.publicKeyInfo),this.signatureValue=Object(c.getParametersValue)(a,"signatureValue")}return Object(r.a)(t,[{key:"fromSchema",value:function(e){Object(c.clearProps)(e,["ticket","commitment","publicKeyInfo","signatureValue"]);var a=Object(i.compareSchema)(e,e,t.schema());if(!1===a.verified)throw new Error("Object's schema was not verified against input data for SignedDevconTicket");this.ticket=new u(a.result.ticket.valueBeforeDecode),"commitment"in a.result&&(this.commitment=a.result.commitment.valueBlock.valueHex),this.publicKeyInfo=new s.a({schema:a.result.publicKeyInfo});var n=a.result.signatureValue;this.signatureValue=n.valueBlock.valueHex}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.getParametersValue)(e,"names",{});return new i.Sequence({name:t.blockName||"SignedDevconTicket",value:[u.schema(e),new i.OctetString({name:"commitment"}),new i.Sequence({name:"publicKeyInfo",optional:!0,value:[s.a.schema(t.publicKeyInfo||{names:{blockName:"publicKeyInfo"}})]}),new i.BitString({name:"signatureValue"})]})}}]),t}()}).call(this,a(38).Buffer)},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(9),r=a(10),i=a(3),c=a(4),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(n.a)(this,e),"string"==typeof t)throw new TypeError("Unimplemented: Not accepting string yet.");if(t instanceof ArrayBuffer){var a=fromBER(t);this.fromSchema(a.result)}else this.algorithmId=Object(c.getParametersValue)(t,"algorithmId"),"algorithmParams"in t&&(this.algorithmParams=Object(c.getParametersValue)(t,"algorithmParams",e.defaultValues("algorithmParams")))}return Object(r.a)(e,[{key:"fromSchema",value:function(t){Object(c.clearProps)(t,["algorithm","params"]);var a=Object(i.compareSchema)(t,t,e.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=a.result.algorithm.valueBlock.toString(),"params"in a.result&&(this.algorithmParams=a.result.params)}},{key:"toSchema",value:function(){var e=[];return e.push(new i.ObjectIdentifier({value:this.algorithmId})),"algorithmParams"in this&&this.algorithmParams instanceof asn1js.Any===!1&&e.push(this.algorithmParams),new i.Sequence({value:e})}},{key:"toJSON",value:function(){var e={algorithmId:this.algorithmId};return"algorithmParams"in this&&this.algorithmParams instanceof asn1js.Any===!1&&(e.algorithmParams=this.algorithmParams.toJSON()),e}},{key:"isEqual",value:function(t){return t instanceof e!==!1&&(this.algorithmId===t.algorithmId&&("algorithmParams"in this?"algorithmParams"in t&&JSON.stringify(this.algorithmParams)===JSON.stringify(t.algorithmParams):!("algorithmParams"in t)))}}],[{key:"defaultValues",value:function(e){switch(e){case"algorithmParams":return new i.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"algorithmId":return""===t;case"algorithmParams":return t instanceof asn1js.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.getParametersValue)(e,"names",{});return new i.Sequence({name:t.blockName||"",optional:t.optional||!1,value:[new i.ObjectIdentifier({name:t.algorithmIdentifier||"algorithm"}),new i.Any({name:t.algorithmParams||"parameters",optional:!0})]})}}]),e}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(n.a)(this,e),"string"==typeof t)throw new TypeError("Not accepting string. For base64, convert to ArrayBuffer.");if(t instanceof ArrayBuffer){var a=Object(i.fromBER)(t);this.fromSchema(a.result)}else this.signatureAlgorithm=Object(c.getParametersValue)(t,"signatureAlgorithm"),this.publicKey=Object(c.getParametersValue)(t,"publicKey")}return Object(r.a)(e,[{key:"fromSchema",value:function(t){if(Object(c.clearProps)(t,["signatureAlgorithm","publicKey"]),!1===Object(i.compareSchema)(t,t,e.schema({names:{signatureAlgorithm:"signatureAlgorithm",publicKey:"publicKey"}})).verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier")}}],[{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.getParametersValue)(e,"names",{});return new i.Sequence({name:t.blockName||"",optional:!0,value:[s.schema(t.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new i.BitString({name:"publicKey"})]})}}]),e}()},36:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),i=a.n(r),c=a(25),s=a.n(c),o=(a(36),a(28)),l=a(24),u=a.n(l),m=a(26),h=a(9),f=a(10),d=a(19),g=function(){function e(t){Object(h.a)(this,e),this.filter=t}return Object(f.a)(e,[{key:"getTokenInstances",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,i,c,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),a=t.get("ticket"),n=t.get("secret"),r=localStorage.getItem("dcTokens"),c={},a&&(i=new d.a(a),c=i.ticket),c.ticketId,c.ticketClass,s=c.devconId,o={raw:[],web:[]},s?(l=!0,r&&r.length&&JSON.parse(r).map((function(e){var t=new d.a(e.ticket);t.ticket.ticketId==c.ticketId?(o.raw.push({ticket:a,secret:n}),o.web.push({devconId:c.devconId,ticketId:c.ticketId,ticketClass:c.ticketClass}),l=!1):(o.raw.push(e),o.web.push({devconId:t.ticket.devconId,ticketId:t.ticket.ticketId,ticketClass:t.ticket.ticketClass}))})),l&&(o.raw.push({ticket:a,secret:n}),o.web.push({devconId:c.devconId,ticketId:c.ticketId,ticketClass:c.ticketClass})),localStorage.setItem("dcTokens",JSON.stringify(o.raw))):r&&r.length&&JSON.parse(r).map((function(e){var t=new d.a(e.ticket);o.raw.push(e),o.web.push({devconId:t.ticket.devconId,ticketId:t.ticket.ticketId,ticketClass:t.ticket.ticketClass})})),e.abrupt("return",o.web);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),v=a(76),b=a(81),k=a(80),p=a(79),I=a(82),j=(a(53),Object(v.a)({root:{maxWidth:345},media:{height:140}}));var w=function(e){var t=e.tokenInstance,a=j();return Object(n.jsxs)(b.a,{className:"card",children:[Object(n.jsx)(p.a,{className:a.media,image:"./mock.png",title:"token"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(I.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.ticketClass.toString()}),Object(n.jsxs)(I.a,{variant:"body2",color:"textSecondary",component:"p",children:["Ticket Id: ",t.ticketId.toString()]}),Object(n.jsxs)(I.a,{variant:"body2",color:"textSecondary",component:"p",children:["Devcon Id: ",t.devconId.toString()]})]})]})};a(58);var O=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1],c=new g;return Object(r.useEffect)((function(){c.getTokenInstances().then((function(e){i(e)}),(function(e){console.log(e)}))}),[]),Object(n.jsx)("div",{children:a.length>0&&a.map((function(e,t){return Object(n.jsx)(w,{tokenInstance:e},t)}))})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),y()}},[[59,1,2]]]);
//# sourceMappingURL=main.59a40319.chunk.js.map